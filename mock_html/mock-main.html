<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/custom.css">
</head>
<body>
    <div class="container-sm pl-0 pr-0" style="max-width: 520px;">
        <header>
            <!-- header container -->
            <div class="container-sm container-fluid px-3 py-2 d-flex flex-row justify-content-between align-items-center border-bottom border-dark-50 fixed-top bg-white" style="max-width: 520px; height: 60px;">
                <!-- header logo img -->
                <div >
                    <a href="main">
                    <img width="100px" src="/img/logo.png" alt="사이트로고">
                    </a>
                </div>
                <!-- header search bar (hide & show) -->
                <div class="form-group my-auto d-none" id="searchbar">
                    <form method="get" action="mainsearchAction">
                        <div class="form-control border-0 px-0">
                            <input class="border rounded border-dark-50" type="text" name="searchtext" placeholder="Search" style="width: 150px !important;">
                        </div>
                    </form>
                </div>
                <!-- header right-side icons -->
                <div class="bg-transparent">
                    <!-- 검색아이콘 -->
                    <img id="search-icon" src="/img/icon/search.png" alt="검색아이콘" width="25px" height="25px" style="cursor: pointer;" onclick="searchbarHideAndShow();">  
                    <!-- 장바구니아이콘 jsp로 변환시 링크 수정해야함-->
                    <a href="cart">  
                        <img src="/img/icon/bag.png" alt="장바구니아이콘" width="25px" height="25px">
                    </a>
                </div>
                <!-- 장바구니 뱃지 -->
                <div class="position-absolute rounded-circle bg-danger text-light" id="bedge" width="20px" height="10px" style="font-size: 10px;right:5px; top:5px;">
                    <span class="p-1" id="bedgeNumber">1</span>
                </div>
            </div>
        </header>
        
        <section>
            <!-- main container -->
            <div class="container-sm container-fluid d-flex flex-column justify-content-center align-items-center pl-0 pr-0" style="max-width: 520px; margin-top: 60px;">
                <!-- 케러셀 이미지 -->
                <div id="carouselImg" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                    <li data-target="#carouselImg" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselImg" data-slide-to="1"></li>
                    <li data-target="#carouselImg" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/img/main01.jpeg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/main02.jpeg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/img/main03.jpeg" class="d-block w-100" alt="...">
                    </div>
                    </div>
                </div>

                <!-- 공지사항 -->
                <div class="w-100 font-weight-bold border  text-dark bg-secondary py-1 pr-2 pb-0 pl-3" style="font-size: 14px;">
                    [공지] 공지내용입니다.
                </div>

                <!-- 카드영역 -->
                <div class="w-100" style="height: 700px;">
                    카드영역
                </div>
            
            </div>
            </section>

        <footer>
            <!-- container -->
            <div class="container-fluid d-flex flex-column bg-secondary justify-content-center align-items-center" style="max-width: 520px;height: 175px;margin-bottom: 60px">
                <!-- footer div -->
                <div class="w-100 text-black-50 d-flex flex-column text-center align-items-center" style="font-size: 11px;">
                    <!-- text -->
                    <div>
                        사이트 명 : (주)소향행<br>
                        주소 : 서울시 노원구 상계동 <br>
                        사업자 번호 : 0000-0000<br>
                        통신판매업 :<br>
                        무통장입금 : 0000-0000-0000(국민)
                    </div>
                    <!-- 회사소개 링크버튼 -->
                    <div class="border border-dark-50 rounded-pill my-2" style="font-size: 10px; width: 90px; height: 22px; line-height: 22px; cursor: pointer;" onclick="loaction.href=''">
                        회사소개
                    </div>
                    <!-- copyright -->
                    <div>
                        Copyright © 2022 Backpackr All right reserved.
                    </div>

                </div>
        
            </div>
        </footer>

        <nav>
            <!-- container -->
                <div class="container-sm container-fluid d-flex flex-row justify-content-around align-items-center fixed-bottom border border-dark-50 bg-white" style="max-width: 520px; height: 60px;">
                <!-- top scroll 버튼 -->
                    <div class="mx-auto bg-white border border-dark-50 rounded position-absolute" onclick="javascript:window.scrollTo(0,0)" style="right: 12px;bottom: 82px; cursor: pointer;">
                        <img src="/img/icon/chevron.png" alt="위로가기" width="35px" height="35px">
                    </div>
        
                <!-- icon container 4개 -->
                    <div class="d-flex flex-column justify-content-center align-itmes-center text-center mb-1" onclick="location.href='main'" style="cursor: pointer;">
                        <img class="mx-auto" src="/img/icon/home.png" alt="홈으로" width="25px" height="25px" >
                        <span class="text-dark"style="font-size: 11px;">홈</span>
                    </div>
                    
                    <div class="d-flex flex-column justify-content-center align-itmes-center text-center mb-1" id="slide_toggle"  style="cursor: pointer;">
                        <img class="mx-auto" src="/img/icon/information.png" alt="카테고리" width="25px" height="25px" >
                        <span class="text-dark"style="font-size: 11px;">카테고리</span>
                    </div>  
        
                    <div class="d-flex flex-column justify-content-center align-itmes-center text-center mb-1" onclick="location.href='main'" style="cursor: pointer;">
                        <img class="mx-auto" src="/img/icon/application.png" alt="사이트맵" width="25px" height="25px" >
                        <span class="text-dark"style="font-size: 11px;">사이트맵</span>
                    </div>  
        
                    <div class="d-flex flex-column justify-content-center align-itmes-center text-center mb-1" onclick="location.href='main'" style="cursor: pointer;">
                        <img class="mx-auto" src="/img/icon/my.png" alt="마이페이지" width="25px" height="25px" >
                        <span class="text-dark"style="font-size: 11px;">마이페이지</span>
                    </div>  
                <!-- 카테고리버튼 슬라이드업 -->
                    <div class="border border-dark-50 position-absolute bg-white" id="cat_slideup" style="width: 80px; left: 28%; bottom: 60px;display: none;">
        
                        <div class="text-center border-bottom border-dark-50" style="height: 40px;line-height: 40px;" onclick="location.href=캔들주소">캔들</div>
                        <div class="text-center border-bottom border-dark-50" style="height: 40px;line-height: 40px;" onclick="location.href=워머주소">캔들워머</div>
                        <div class="text-center border-bottom border-dark-50" style="height: 40px;line-height: 40px;" onclick="location.href=디퓨저주소">디퓨저</div>
                        <div class="text-center border-bottom border-dark-50"  style="height: 40px;line-height: 40px;" onclick="location.href=비누주소">비누</div>
        
                    </div>
                
                </div>
            </nav>
    </div>

<!-- bootstrap js -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
<script>
    //  카테고리 슬라이드 업
    $(function(){
    var hideContainer = $("#cat_slideup");
    $("#slide_toggle").click(function(){
          hideContainer.slideToggle(600);
        });
})
    
    // 검색바 hide & show   
    function searchbarHideAndShow() {
        const searchIcon = document.getElementById('search-icon');
        const searchBar = document.getElementById('searchbar');
        if(searchBar.classList.contains("d-none")){
            searchBar.classList.add("d-block");
            searchBar.classList.remove("d-none");
        }else if(searchBar.classList.contains("d-block")){
            searchBar.classList.add("d-none");
            searchBar.classList.remove("d-block");
        }
    };
    
    // 장바구니 벳지 장바구니가 0이면 숨기기
    ///로딩시.  ajax통신으로 실시간 반영될 경우 ajax 코드에서 해당 함수 호출되게 만들것.
    window.onload(bedgeHideAndShow());
    function bedgeHideAndShow() {
        const bedge = document.getElementById('bedge');
        const bedgeNumber = document.getElementById('bedgeNumber').innerText;
        if(bedgeNumber == '0'){
            bedge.classList.remove("d-block");
            bedge.classList.add("d-none");

        }else{
            bedge.classList.add("d-block");
            bedge.classList.remove("d-none");
        } 
    };
    
</script>
</body>
</html>